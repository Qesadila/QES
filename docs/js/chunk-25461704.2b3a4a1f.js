(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25461704"],{"56b4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"d-flex h-100 justify-content-center align-items-center"},[s("b-col",{staticClass:"mx-auto app-login-box",attrs:{md:"8"}},[s("div",{staticClass:"modal-dialog w-100"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[s("h5",{staticClass:"modal-title"},[s("div",{staticClass:"app-logo-qes mx-auto mb-3"}),s("h4",{staticClass:"mt-2"},[s("div",[e._v("Qesadila registration")])])]),s("div",{staticClass:"divider"}),e.message?s("div",{staticStyle:{"text-align":"center",color:"red"}},[e._v("\n            "+e._s(e.message)+"\n            "),s("div",{staticClass:"divider"})]):e._e(),s("b-form-checkbox",{attrs:{name:"agreementCheck",id:"Check"},model:{value:e.form.acceptedTermOfUse,callback:function(t){e.$set(e.form,"acceptedTermOfUse",t)},expression:"form.acceptedTermOfUse"}},[e._v("\n              I accept  "),s("router-link",{staticClass:"btn btn-link",attrs:{to:"/terms"}},[e._v(e._s(e.$t("Terms and Conditions & GDPR compliance")))])],1),s("b-form-checkbox",{attrs:{name:"marketingCheck",id:"marketingCheck"},model:{value:e.form.acceptedMarketing,callback:function(t){e.$set(e.form,"acceptedMarketing",t)},expression:"form.acceptedMarketing"}},[e._v("\n              I accept commercial communication\n              "),s("a",{attrs:{href:"javascript:void(0);"}}),e._v(".\n            ")]),s("div",{staticClass:"divider"}),s("b-form-group",{attrs:{id:"InputGroup1","label-for":"email",label:"Email"}},[s("b-form-input",{attrs:{id:"email",type:"email",name:"email",required:"",placeholder:"Enter your email please..."},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),s("b-form-group",{attrs:{id:"InputGroup12","label-for":"name",label:"Name"}},[s("b-form-input",{attrs:{id:"name",type:"text",name:"name",required:"",placeholder:"Enter your name please..."},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("b-form-group",{attrs:{id:"InputGroup2","label-for":"Input2",label:"Password"}},[s("b-form-input",{attrs:{id:"Input2",type:"password",required:"",placeholder:"Enter password..."},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),s("div",{staticClass:"col-md-6"},[s("b-form-group",{attrs:{id:"InputGroup3","label-for":"Input3",label:"Password check"}},[s("b-form-input",{attrs:{id:"Input3",type:"password",required:"",placeholder:"Repeat password..."},model:{value:e.form.repeatPassword,callback:function(t){e.$set(e.form,"repeatPassword",t)},expression:"form.repeatPassword"}})],1)],1)]),s("div",{staticClass:"divider"}),s("h6",{staticClass:"mb-0"},[e._v("\n              Already have an account?\n              "),s("router-link",{staticClass:"text-primary",attrs:{to:"/login"}},[e._v("Sign in")]),e._v("\n              |\n              "),s("a",{staticClass:"text-primary",attrs:{href:"javascript:void(0);"}},[e._v("Recover Password")])],1)],1),s("div",{staticClass:"modal-footer d-block text-center"},[s("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:e.register}},[e._v(e._s(e.$t("Create Account")))])],1)])])])],1)])},o=[],r=(s("7f7f"),s("96cf"),s("3b8d")),n=s("69f2"),i=s.n(n),l=s("9177"),c={data:function(){return{message:"",form:{email:"",name:"",password:"",repeatPassword:"",language:"",acceptedTermOfUse:!1,acceptedMarketing:!1}}},computed:{passwordMatchCheck:function(){return this.form.password&&this.form.repeatPassword&&this.form.password===this.form.repeatPassword}},methods:{register:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.form.acceptedTermOfUse?this.passwordMatchCheck?(this.message="Sending registration request",t=this,l["a"].Register(this.form.email,this.form.name,this.$i18n.locale,i()("sha256").update(this.form.password).digest("hex"),this.form.acceptedTermOfUse,this.form.acceptedMarketing).then((function(e){console.log("Register ok",e);var a=e.data;a?t.$router.push("/verify-email"):(s.message="Successfully registered, sending authentication request",l["a"].Login(s.form.email,i()("sha256").update(s.form.password).digest("hex")).then((function(e){console.log("Login ok",e);var t=e.data;localStorage.setItem("token",t.token),localStorage.setItem("loggedIn",!0),localStorage.setItem("user",JSON.stringify(t.user)),s.$router.push("/")})).catch((function(e){e.response?(console.log("Request made and server responded"),console.log(e.response.data.detail),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.data.detail?t.message=e.response.data.detail:e.response.data.title&&(t.message=e.response.data.title)):e.request?(console.log("The request was made but no response was received"),console.log(e.request)):(console.log("Something happened in setting up the request that triggered an Error"),console.log("Error",e.message))})))})).catch((function(e){e.response?(console.log("Request made and server responded"),console.log(e.response.data.detail),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.data.detail?t.message=e.response.data.detail:e.response.data.title&&(t.message=e.response.data.title)):e.request?(console.log("The request was made but no response was received"),console.log(e.request)):(console.log("Something happened in setting up the request that triggered an Error"),console.log("Error",e.message))}))):console.log("Musíte zadat hesla, která se shodují."):console.log("Bez souhlasu není možné registrovat");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=c,m=s("2877"),p=Object(m["a"])(d,a,o,!1,null,null,null);t["default"]=p.exports},"7f7f":function(e,t,s){var a=s("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,n="name";n in o||s("9e1e")&&a(o,n,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})}}]);